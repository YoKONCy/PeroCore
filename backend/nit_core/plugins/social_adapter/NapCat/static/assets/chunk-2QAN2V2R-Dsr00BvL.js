import{c as Je,d as Q,t as Qe}from"./index-DiFbo-KR.js";import{D as Xe,bE as We,K as Ye,bF as Ze,x as p,bG as ea,bH as aa,n as $e,q as Me,bI as sa,g as ta,H as la,r as t,i as X,p as na,t as ra,v as ia}from"./react-dom-C0IJc3nR.js";import{h as n,j as i}from"./codemirror-core-DIzFijqu.js";import{u as oa,a as da}from"./chunk-SLABUSGS-DTr9GL0S.js";import{C as ua}from"./chunk-M3MASYO7-BtOvSeRL.js";function ca(s){var w,L,g,v;const h=Je(),{validationBehavior:j}=oa(da)||{},[o,E]=Xe(s,We.variantKeys),{ref:H,as:V,type:C,label:d,baseRef:S,wrapperRef:Y,description:D,className:A,classNames:e,autoFocus:F,startContent:k,endContent:x,onClear:b,onChange:W,validationState:T,validationBehavior:$=(w=j??(h==null?void 0:h.validationBehavior))!=null?w:"native",innerWrapperRef:_,onValueChange:M=()=>{},...y}=o,Z=n.useCallback(a=>{M(a??"")},[M]),[I,ne]=n.useState(!1),Ie=V||"div",re=(g=(L=s.disableAnimation)!=null?L:h==null?void 0:h.disableAnimation)!=null?g:!1,r=Q(H),Ne=Q(S),Pe=Q(Y),Re=Q(_),[N,q]=Ye(o.value,(v=o.defaultValue)!=null?v:"",Z),ge=["date","time","month","week","range"].includes(C),f=!Ze(N)||ge,z=f||I,ie=C==="hidden",oe=s.isMultiline,ee=C==="file",de=p(e==null?void 0:e.base,A,f?"is-filled":""),je=n.useCallback(()=>{var a;q(""),b==null||b(),(a=r.current)==null||a.focus()},[q,b]);Qe(()=>{r.current&&q(r.current.value)},[r.current]);const{labelProps:ue,inputProps:P,isInvalid:De,validationErrors:ae,validationDetails:Fe,descriptionProps:ke,errorMessageProps:ce}=ea({...s,validationBehavior:$,autoCapitalize:s.autoCapitalize,value:N,"aria-label":aa(s["aria-label"],s.label,s.placeholder),inputElementType:oe?"textarea":"input",onChange:q},r);ee&&(delete P.value,delete P.onChange);const{isFocusVisible:K,isFocused:G,focusProps:pe}=$e({autoFocus:F,isTextInput:!0}),{isHovered:U,hoverProps:Be}=Me({isDisabled:!!(s!=null&&s.isDisabled)}),{isHovered:B,hoverProps:Oe}=Me({isDisabled:!!(s!=null&&s.isDisabled)}),{focusProps:be,isFocusVisible:fe}=$e(),{focusWithinProps:ve}=sa({onFocusWithinChange:ne}),{pressProps:he}=ta({isDisabled:!!(s!=null&&s.isDisabled)||!!(s!=null&&s.isReadOnly),onPress:je}),R=T==="invalid"||De,u=n.useMemo(()=>{var a;return(!s.labelPlacement||s.labelPlacement==="inside")&&!d?"outside":(a=s.labelPlacement)!=null?a:"inside"},[s.labelPlacement,d]),se=typeof o.errorMessage=="function"?o.errorMessage({isInvalid:R,validationErrors:ae,validationDetails:Fe}):o.errorMessage||(ae==null?void 0:ae.join(" ")),te=!!b||s.isClearable,me=!!d||!!D||!!se,m=!!o.placeholder,Ce=!!d,le=!!D||!!se,xe=u==="outside"||u==="outside-left",we=u==="inside",J=r.current?(!r.current.value||r.current.value===""||!N||N==="")&&m:!1,Le=u==="outside-left",c=!!k,Ee=xe?u==="outside-left"||m||u==="outside"&&c:!1,He=u==="outside"&&!m&&!c,l=n.useMemo(()=>We({...E,isInvalid:R,labelPlacement:u,isClearable:te,disableAnimation:re}),[la(E),R,u,te,c,re]),Ve=n.useCallback((a={})=>({ref:Ne,className:l.base({class:de}),"data-slot":"base","data-filled":t(f||m||c||J||ee),"data-filled-within":t(z||m||c||J||ee),"data-focus-within":t(I),"data-focus-visible":t(K),"data-readonly":t(s.isReadOnly),"data-focus":t(G),"data-hover":t(U||B),"data-required":t(s.isRequired),"data-invalid":t(R),"data-disabled":t(s.isDisabled),"data-has-elements":t(me),"data-has-helper":t(le),"data-has-label":t(Ce),"data-has-value":t(!J),"data-hidden":t(ie),...ve,...a}),[l,de,f,G,U,B,R,le,Ce,me,J,c,I,K,z,m,ve,ie,s.isReadOnly,s.isRequired,s.isDisabled]),Se=n.useCallback((a={})=>({"data-slot":"label",className:l.label({class:e==null?void 0:e.label}),...X(ue,Oe,a)}),[l,B,ue,e==null?void 0:e.label]),Ae=n.useCallback((a={})=>({"data-slot":"input","data-filled":t(f),"data-filled-within":t(z),"data-has-start-content":t(c),"data-has-end-content":t(!!x),className:l.input({class:p(e==null?void 0:e.input,f?"is-filled":"",oe?"pe-0":"")}),...X(pe,P,ra(y,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(P))}),a),"aria-readonly":t(s.isReadOnly),onChange:na(P.onChange,W),ref:r}),[l,N,pe,P,y,f,z,c,x,e==null?void 0:e.input,s.isReadOnly,s.isRequired,W]),Te=n.useCallback((a={})=>({ref:Pe,"data-slot":"input-wrapper","data-hover":t(U||B),"data-focus-visible":t(K),"data-focus":t(G),className:l.inputWrapper({class:p(e==null?void 0:e.inputWrapper,f?"is-filled":"")}),...X(a,Be),onClick:O=>{r.current&&O.currentTarget===O.target&&r.current.focus()},style:{cursor:"text",...a.style}}),[l,U,B,K,G,N,e==null?void 0:e.inputWrapper]),_e=n.useCallback((a={})=>({...a,ref:Re,"data-slot":"inner-wrapper",onClick:O=>{r.current&&O.currentTarget===O.target&&r.current.focus()},className:l.innerWrapper({class:p(e==null?void 0:e.innerWrapper,a==null?void 0:a.className)})}),[l,e==null?void 0:e.innerWrapper]),qe=n.useCallback((a={})=>({...a,"data-slot":"main-wrapper",className:l.mainWrapper({class:p(e==null?void 0:e.mainWrapper,a==null?void 0:a.className)})}),[l,e==null?void 0:e.mainWrapper]),ze=n.useCallback((a={})=>({...a,"data-slot":"helper-wrapper",className:l.helperWrapper({class:p(e==null?void 0:e.helperWrapper,a==null?void 0:a.className)})}),[l,e==null?void 0:e.helperWrapper]),Ke=n.useCallback((a={})=>({...a,...ke,"data-slot":"description",className:l.description({class:p(e==null?void 0:e.description,a==null?void 0:a.className)})}),[l,e==null?void 0:e.description]),Ge=n.useCallback((a={})=>({...a,...ce,"data-slot":"error-message",className:l.errorMessage({class:p(e==null?void 0:e.errorMessage,a==null?void 0:a.className)})}),[l,ce,e==null?void 0:e.errorMessage]),Ue=n.useCallback((a={})=>({...a,type:"button",tabIndex:-1,disabled:s.isDisabled,"aria-label":"clear input","data-slot":"clear-button","data-focus-visible":t(fe),className:l.clearButton({class:p(e==null?void 0:e.clearButton,a==null?void 0:a.className)}),...X(he,be)}),[l,fe,he,be,e==null?void 0:e.clearButton]);return{Component:Ie,classNames:e,domRef:r,label:d,description:D,startContent:k,endContent:x,labelPlacement:u,isClearable:te,hasHelper:le,hasStartContent:c,isLabelOutside:Ee,isOutsideLeft:Le,isLabelOutsideAsPlaceholder:He,shouldLabelBeOutside:xe,shouldLabelBeInside:we,hasPlaceholder:m,isInvalid:R,errorMessage:se,getBaseProps:Ve,getLabelProps:Se,getInputProps:Ae,getMainWrapperProps:qe,getInputWrapperProps:Te,getInnerWrapperProps:_e,getHelperWrapperProps:ze,getDescriptionProps:Ke,getErrorMessageProps:Ge,getClearButtonProps:Ue}}var ye=ia((s,w)=>{const{Component:L,label:g,description:v,isClearable:h,startContent:j,endContent:o,labelPlacement:E,hasHelper:H,isOutsideLeft:V,shouldLabelBeOutside:C,errorMessage:d,isInvalid:S,getBaseProps:Y,getLabelProps:D,getInputProps:A,getInnerWrapperProps:e,getInputWrapperProps:F,getMainWrapperProps:k,getHelperWrapperProps:x,getDescriptionProps:b,getErrorMessageProps:W,getClearButtonProps:T}=ca({...s,ref:w}),$=g?i.jsx("label",{...D(),children:g}):null,_=n.useMemo(()=>h?i.jsx("button",{...T(),children:o||i.jsx(ua,{})}):o,[h,T]),M=n.useMemo(()=>{const I=S&&d;return!H||!(I||v)?null:i.jsx("div",{...x(),children:I?i.jsx("div",{...W(),children:d}):i.jsx("div",{...b(),children:v})})},[H,S,d,v,x,W,b]),y=n.useMemo(()=>i.jsxs("div",{...e(),children:[j,i.jsx("input",{...A()}),_]}),[j,_,A,e]),Z=n.useMemo(()=>C?i.jsxs("div",{...k(),children:[i.jsxs("div",{...F(),children:[V?null:$,y]}),M]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{...F(),children:[$,y]}),M]}),[E,M,C,$,y,d,v,k,F,W,b]);return i.jsxs(L,{...Y(),children:[V?$:null,Z]})});ye.displayName="HeroUI.Input";var ma=ye;export{ma as i};
