{
  "name": "social_adapter",
  "version": "1.0.0",
  "description": "OneBot 11 (NapCatQQ) 社交适配器。",
  "pluginType": "python-module",
  "entryPoint": "qq_tools.py",
  "capabilities": {
    "invocationCommands": [
      {
        "commandIdentifier": "qq_send_group_msg",
        "description": "发送QQ群消息。向指定群聊发送消息。",
        "parameters": {
          "type": "object",
          "properties": {
            "group_id": { "type": "string", "description": "目标群号" },
            "message": { "type": "string", "description": "消息内容" }
          },
          "required": ["group_id", "message"]
        }
      },
      {
        "commandIdentifier": "qq_send_private_msg",
        "description": "发送QQ私聊消息。向指定用户发送消息。",
        "parameters": {
          "type": "object",
          "properties": {
            "user_id": { "type": "string", "description": "目标QQ号" },
            "content": { "type": "string", "description": "消息内容" }
          },
          "required": ["user_id", "content"]
        }
      },
      {
        "commandIdentifier": "qq_handle_friend_request",
        "description": "处理好友请求。批准或拒绝好友申请。请在获得主人指示后使用。",
        "parameters": {
          "type": "object",
          "properties": {
            "flag": { "type": "string", "description": "请求Flag" },
            "approve": { "type": "boolean", "description": "是否批准 (True/False)" },
            "remark": { "type": "string", "description": "好友备注 (可选)" }
          },
          "required": ["flag", "approve"]
        }
      },
      {
        "commandIdentifier": "qq_delete_friend",
        "description": "从好友列表中删除当前对话的那个好友。仅在对方非常讨厌、粗鲁或持续骚扰时使用。",
        "parameters": {
          "type": "object",
          "properties": {
            "user_id": {
              "type": "string",
              "description": "要删除的QQ号。通常从上下文或会话ID中提取。"
            },
            "reason": {
              "type": "string",
              "description": "删除原因 (用于记录)。"
            }
          },
          "required": ["user_id"]
        }
      },
      {
        "commandIdentifier": "qq_get_friend_list",
        "description": "获取当前 Agent 的所有好友列表。当你需要知道自己有哪些好友，或者需要查找特定好友的 QQ 号时使用。",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        }
      },
      {
        "commandIdentifier": "qq_get_group_list",
        "description": "获取当前 Agent 加入的所有群聊列表。当你需要知道自己在哪些群，或者查找特定群的群号时使用。",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        }
      },
      {
        "commandIdentifier": "qq_get_stranger_info",
        "description": "获取陌生人信息。查询指定用户的公开资料。",
        "parameters": {
          "type": "object",
          "properties": {
            "user_id": { "type": "string", "description": "目标QQ号" }
          },
          "required": ["user_id"]
        }
      },
      {
        "commandIdentifier": "qq_get_group_history",
        "description": "获取群聊历史。获取指定群的最近消息 (默认20条) 以了解上下文。",
        "parameters": {
          "type": "object",
          "properties": {
            "group_id": { "type": "string", "description": "目标群号" },
            "count": { "type": "integer", "description": "获取数量 (默认20)" }
          },
          "required": ["group_id"]
        }
      },
      {
        "commandIdentifier": "read_social_memory",
        "description": "读取社交记忆。查阅QQ聊天记录日志。",
        "parameters": {
          "type": "object",
          "properties": {
            "query": { "type": "string", "description": "搜索关键词" },
            "filter": { "type": "string", "description": "可选过滤器" }
          },
          "required": ["query"]
        }
      },
      {
        "commandIdentifier": "qq_notify_master",
        "description": "向主人汇报。主动向主人报告重要的社交事件。",
        "parameters": {
          "type": "object",
          "properties": {
            "content": { "type": "string", "description": "汇报内容" },
            "importance": { "type": "string", "enum": ["low", "medium", "high"], "description": "重要程度" }
          },
          "required": ["content"]
        }
      }
    ]
  }
}
