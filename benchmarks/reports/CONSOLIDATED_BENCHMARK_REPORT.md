# PeroCore 核心基准测试综合报告 (Consolidated Benchmark Report)

## 0. 执行摘要 (Executive Summary)

本报告汇总了 PeroCore 认知引擎在性能、逻辑穿透力及复杂拓扑适应性三个核心维度的实测结果。我们摒弃了所有硬编码的偏袒逻辑，通过大规模随机合成数据与权威逻辑验证场景，真实还原了引擎在边缘侧的性能上限。

**核心结论：**
*   **极致性能**：在 1 亿（100M）节点规模下，检索定位延迟保持在 **2.95ms** 左右，内存占用约 **12GB**。
*   **认知穿透**：即便在 100,000 个高相似度干扰项（噪音）中，KDN 算子（一个纯粹的拓扑计算算子，认知科学“扩散激活”理论的工程实现）仍能通过多跳扩散精准锁定逻辑目标。
*   **架构平衡**：采用 **类 CSR (Simulated CSR)** 结构，在保持实时写入灵活性的同时，实现了极高的稀疏矩阵运算效率。

---

## 1. 规模化性能压测 (Massive Scale Performance)

**测试目标**：验证引擎在亿级规模下的原始吞吐、内存效率与传播延迟。

| 指标维度 | 实测数值 (100M Scale) | 说明 |
| :--- | :--- | :--- |
| **检索定位延迟** | **2.95 ms** ⚡ | 相比上一版本 0.45ms，此为更严苛拓扑下的真实均值 |
| **内存占用 (Associations)** | **12.0 GB** | **实机测得值**。包含 1 亿边规模下的 AHashMap 开销与 Vec 扩容预留，适用于 16GB+ 内存 PC |
| **写入吞吐量** | **~0.5M edges/sec** | 包含 Python 生成开销，Rust 核心处理能力更高 |
| **理论极限 (万亿级)** | **~1.2 ms (Simulated)** | 基于 $O(\log N)$ 复杂度的数学模拟，硬件瓶颈在于带宽 |

**技术注记：**
1. **架构选择**：系统当前使用 **类 CSR (Simulated CSR)** 架构。这种设计优先保障了动态写入的灵活性（O(1) 增量更新），为未来万亿级静态数据集保留了向标准 CSR 塌缩的空间。
2. **极速检索原理**：KDN 算法专为“记忆召回”场景优化。在扩散过程中，我们采用了 **动态 Top-10,000 活跃过滤** 策略。每一轮能量迭代仅处理当前激活值最高的前 10,000 个节点。实测证明，对于 AI 桌面助手的长记忆需求，10,000 个关联节点已足以覆盖绝大多数复杂上下文，这使得检索复杂度从 $O(N)$ 降至接近常数级，从而实现毫秒级响应。
3. **内存效率说明**：虽然核心关联逻辑在理论上极度精简，但 1 亿边规模下 **12GB** 的总内存占用是经过**实机压力测试**得出的真实数据。该数值已完整计入了 Rust 侧 `AHashMap` 的哈希表索引开销、`Vec` 在动态扩容时的预留空间（Capacity vs Length）以及内存对齐损耗。这并非纯理论推导，而是实打实的工程数据，不服可以自己写个脚本测一测。

---

## 2. 逻辑穿透力与多跳推理 (Logic Penetration & Multi-hop)

**测试场景**：在 100,000 个随机干扰节点中，隐藏一条 5 跳（5-Hops）逻辑链。

### **2.1 穿透力验证结果**
- **目标发现率**：100% (在指定步数内)。
- **目标排名 (Activation Rank)**：目标节点在激活列表中的平均排名为 **Top 30**，远超 10 万个噪音节点。
- **逻辑增益**：通过能量累积效应，逻辑路径上的节点激活值随时间推移呈非线性增长，有效解决了传统向量检索的“第一跳丢失”问题。

### **2.2 HotpotQA 权威评测分析**
针对 EMNLP 2018 HotpotQA 数据集的零语义（Zero-NLU）测试显示：
- **定位精度 (EM)**：**30.00%** (仅靠图拓扑，不读文字内容)。
- **定位耗时**：**1.58 ms**。
- **定位策略**：作为“逻辑雷达”，KDN 在极短时间内为后续 LLM 提供了精准的候选证据集，而非直接充当阅读器。

---

## 3. 非线性知识网集成 (Knowledge Web Integration)

**测试场景**：构建 50,000 节点的幂律分布（Power-Law）图谱，模拟真实世界的 Hub-and-Spoke 拓扑。

- **稳定性表现**：系统在处理高度集中的 Hub 节点（超级概念）时未出现能量爆炸，归功于 KDN 算子的饱和常数 $C$。
- **联想召回**：从任意叶子节点出发，系统能稳定在 3-4 步内联想到相关的核心概念，这不仅验证了“扩散激活”理论在复杂网络中的有效性，也证明了我们工程实现的稳健。

---

## 4. 数学基础与收敛性 (Mathematical Foundation)

本报告所有性能指标均建立在严谨的数学证明之上。KDN 扩散算子已被证明在有限资源约束下必然收敛。

- **证明结论**：系统在无限扩散过程中必然塌缩至稳定点，不会产生逻辑震荡。
- **详细证明**：参考 [`KDN_mathematical_proof.md`](./KDN_mathematical_proof.md)

---

## 5. 总结：雷达而非阅读器 (Radar, not Reader)

PeroCore 的定位是 LLM 的**“数字大脑皮层”**。它在 2.95ms 内完成的逻辑定位，其价值不在于最终答案的文本复述，而在于为决策层提供极速、精准、低成本的“逻辑上下文”。这种“效率的量变”正在边缘侧引发“认知的质变”。
